{"abi":[],"bytecode":{"object":"0x6055604b600b8282823980515f1a607314603f577f4e487b71000000000000000000000000000000000000000000000000000000005f525f60045260245ffd5b305f52607381538281f3fe730000000000000000000000000000000000000000301460806040525f5ffdfea26469706673582212208ad73b2b3aba2eca2317e6f6aa1d2cca4343551c1acde55bc99bdd78bf738afd64736f6c634300081c0033","sourceMap":"532:1805:70:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x730000000000000000000000000000000000000000301460806040525f5ffdfea26469706673582212208ad73b2b3aba2eca2317e6f6aa1d2cca4343551c1acde55bc99bdd78bf738afd64736f6c634300081c0033","sourceMap":"532:1805:70:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[],\"devdoc\":{\"details\":\"Signature verification helper that can be used instead of `ECDSA.recover` to seamlessly support both ECDSA signatures from externally owned accounts (EOAs) as well as ERC-1271 signatures from smart contract wallets like Argent and Safe Wallet (previously Gnosis Safe).\",\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/openzeppelin-contracts/contracts/utils/cryptography/SignatureChecker.sol\":\"SignatureChecker\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[\":@chainlink/=lib/chainlink-brownie-contracts/\",\":@openzeppelin/=lib/openzeppelin-contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@uniswap/=lib/v2-periphery/\",\":chainlink-brownie-contracts/=lib/chainlink-brownie-contracts/\",\":ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":v2-periphery/=lib/v2-periphery/contracts/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/interfaces/IERC1271.sol\":{\"keccak256\":\"0x4aaaf1c0737dd16e81f0d2b9833c549747a5ede6873bf1444bc72aa572d03e98\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://eada27d7668eebaea16c3b890aa1b38ffc53965292e26c96f7c44834623f4710\",\"dweb:/ipfs/QmVSWuLtxyCqNbLyY89ptxkvsk4CLLKDQYigEne5Qj8k1L\"]},\"lib/openzeppelin-contracts/contracts/utils/cryptography/ECDSA.sol\":{\"keccak256\":\"0x69f54c02b7d81d505910ec198c11ed4c6a728418a868b906b4a0cf29946fda84\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8e25e4bdb7ae1f21d23bfee996e22736fc0ab44cfabedac82a757b1edc5623b9\",\"dweb:/ipfs/QmQdWQvB6JCP9ZMbzi8EvQ1PTETqkcTWrbcVurS7DKpa5n\"]},\"lib/openzeppelin-contracts/contracts/utils/cryptography/SignatureChecker.sol\":{\"keccak256\":\"0xbdc3bb48ccedb818cd75a6d74a16df55a822e9f6d3cc54c59f576f10aab67b5f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://2284f25f2478f419d7781573b17a89d0e7c5589a865d55e2d6ed5163aee23aa8\",\"dweb:/ipfs/QmNsr2625APBQiNKpYnX5VcSnYgfUHR9Uzzp9pRXjoDqK7\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@chainlink/=lib/chainlink-brownie-contracts/","@openzeppelin/=lib/openzeppelin-contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@uniswap/=lib/v2-periphery/","chainlink-brownie-contracts/=lib/chainlink-brownie-contracts/","ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","v2-periphery/=lib/v2-periphery/contracts/"],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/openzeppelin-contracts/contracts/utils/cryptography/SignatureChecker.sol":"SignatureChecker"},"evmVersion":"cancun","libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/interfaces/IERC1271.sol":{"keccak256":"0x4aaaf1c0737dd16e81f0d2b9833c549747a5ede6873bf1444bc72aa572d03e98","urls":["bzz-raw://eada27d7668eebaea16c3b890aa1b38ffc53965292e26c96f7c44834623f4710","dweb:/ipfs/QmVSWuLtxyCqNbLyY89ptxkvsk4CLLKDQYigEne5Qj8k1L"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/cryptography/ECDSA.sol":{"keccak256":"0x69f54c02b7d81d505910ec198c11ed4c6a728418a868b906b4a0cf29946fda84","urls":["bzz-raw://8e25e4bdb7ae1f21d23bfee996e22736fc0ab44cfabedac82a757b1edc5623b9","dweb:/ipfs/QmQdWQvB6JCP9ZMbzi8EvQ1PTETqkcTWrbcVurS7DKpa5n"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/cryptography/SignatureChecker.sol":{"keccak256":"0xbdc3bb48ccedb818cd75a6d74a16df55a822e9f6d3cc54c59f576f10aab67b5f","urls":["bzz-raw://2284f25f2478f419d7781573b17a89d0e7c5589a865d55e2d6ed5163aee23aa8","dweb:/ipfs/QmNsr2625APBQiNKpYnX5VcSnYgfUHR9Uzzp9pRXjoDqK7"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"lib/openzeppelin-contracts/contracts/utils/cryptography/SignatureChecker.sol","id":48537,"exportedSymbols":{"ECDSA":[48428],"IERC1271":[44029],"SignatureChecker":[48536]},"nodeType":"SourceUnit","src":"123:2215:70","nodes":[{"id":48430,"nodeType":"PragmaDirective","src":"123:24:70","nodes":[],"literals":["solidity","^","0.8",".20"]},{"id":48432,"nodeType":"ImportDirective","src":"149:34:70","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/utils/cryptography/ECDSA.sol","file":"./ECDSA.sol","nameLocation":"-1:-1:-1","scope":48537,"sourceUnit":48429,"symbolAliases":[{"foreign":{"id":48431,"name":"ECDSA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48428,"src":"157:5:70","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":48434,"nodeType":"ImportDirective","src":"184:55:70","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/interfaces/IERC1271.sol","file":"../../interfaces/IERC1271.sol","nameLocation":"-1:-1:-1","scope":48537,"sourceUnit":44030,"symbolAliases":[{"foreign":{"id":48433,"name":"IERC1271","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44029,"src":"192:8:70","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":48536,"nodeType":"ContractDefinition","src":"532:1805:70","nodes":[{"id":48483,"nodeType":"FunctionDefinition","src":"1041:429:70","nodes":[],"body":{"id":48482,"nodeType":"Block","src":"1153:317:70","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48451,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"expression":{"id":48447,"name":"signer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48438,"src":"1167:6:70","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48448,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1174:4:70","memberName":"code","nodeType":"MemberAccess","src":"1167:11:70","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":48449,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1179:6:70","memberName":"length","nodeType":"MemberAccess","src":"1167:18:70","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":48450,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1189:1:70","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1167:23:70","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":48480,"nodeType":"Block","src":"1381:83:70","statements":[{"expression":{"arguments":[{"id":48475,"name":"signer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48438,"src":"1429:6:70","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48476,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48440,"src":"1437:4:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":48477,"name":"signature","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48442,"src":"1443:9:70","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":48474,"name":"isValidERC1271SignatureNow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48535,"src":"1402:26:70","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_bytes32_$_t_bytes_memory_ptr_$returns$_t_bool_$","typeString":"function (address,bytes32,bytes memory) view returns (bool)"}},"id":48478,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1402:51:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":48446,"id":48479,"nodeType":"Return","src":"1395:58:70"}]},"id":48481,"nodeType":"IfStatement","src":"1163:301:70","trueBody":{"id":48473,"nodeType":"Block","src":"1192:183:70","statements":[{"assignments":[48453,48456,null],"declarations":[{"constant":false,"id":48453,"mutability":"mutable","name":"recovered","nameLocation":"1215:9:70","nodeType":"VariableDeclaration","scope":48473,"src":"1207:17:70","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48452,"name":"address","nodeType":"ElementaryTypeName","src":"1207:7:70","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":48456,"mutability":"mutable","name":"err","nameLocation":"1245:3:70","nodeType":"VariableDeclaration","scope":48473,"src":"1226:22:70","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_RecoverError_$48088","typeString":"enum ECDSA.RecoverError"},"typeName":{"id":48455,"nodeType":"UserDefinedTypeName","pathNode":{"id":48454,"name":"ECDSA.RecoverError","nameLocations":["1226:5:70","1232:12:70"],"nodeType":"IdentifierPath","referencedDeclaration":48088,"src":"1226:18:70"},"referencedDeclaration":48088,"src":"1226:18:70","typeDescriptions":{"typeIdentifier":"t_enum$_RecoverError_$48088","typeString":"enum ECDSA.RecoverError"}},"visibility":"internal"},null],"id":48462,"initialValue":{"arguments":[{"id":48459,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48440,"src":"1271:4:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":48460,"name":"signature","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48442,"src":"1277:9:70","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":48457,"name":"ECDSA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48428,"src":"1254:5:70","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ECDSA_$48428_$","typeString":"type(library ECDSA)"}},"id":48458,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1260:10:70","memberName":"tryRecover","nodeType":"MemberAccess","referencedDeclaration":48154,"src":"1254:16:70","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_bytes_memory_ptr_$returns$_t_address_$_t_enum$_RecoverError_$48088_$_t_bytes32_$","typeString":"function (bytes32,bytes memory) pure returns (address,enum ECDSA.RecoverError,bytes32)"}},"id":48461,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1254:33:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_enum$_RecoverError_$48088_$_t_bytes32_$","typeString":"tuple(address,enum ECDSA.RecoverError,bytes32)"}},"nodeType":"VariableDeclarationStatement","src":"1206:81:70"},{"expression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":48471,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_enum$_RecoverError_$48088","typeString":"enum ECDSA.RecoverError"},"id":48467,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48463,"name":"err","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48456,"src":"1308:3:70","typeDescriptions":{"typeIdentifier":"t_enum$_RecoverError_$48088","typeString":"enum ECDSA.RecoverError"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":48464,"name":"ECDSA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48428,"src":"1315:5:70","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ECDSA_$48428_$","typeString":"type(library ECDSA)"}},"id":48465,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1321:12:70","memberName":"RecoverError","nodeType":"MemberAccess","referencedDeclaration":48088,"src":"1315:18:70","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_RecoverError_$48088_$","typeString":"type(enum ECDSA.RecoverError)"}},"id":48466,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1334:7:70","memberName":"NoError","nodeType":"MemberAccess","referencedDeclaration":48084,"src":"1315:26:70","typeDescriptions":{"typeIdentifier":"t_enum$_RecoverError_$48088","typeString":"enum ECDSA.RecoverError"}},"src":"1308:33:70","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":48470,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48468,"name":"recovered","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48453,"src":"1345:9:70","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":48469,"name":"signer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48438,"src":"1358:6:70","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1345:19:70","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1308:56:70","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":48446,"id":48472,"nodeType":"Return","src":"1301:63:70"}]}}]},"documentation":{"id":48436,"nodeType":"StructuredDocumentation","src":"563:473:70","text":" @dev Checks if a signature is valid for a given signer and data hash. If the signer is a smart contract, the\n signature is validated against that smart contract using ERC-1271, otherwise it's validated using `ECDSA.recover`.\n NOTE: Unlike ECDSA signatures, contract signatures are revocable, and the outcome of this function can thus\n change through time. It could return true at block N and false at block N+1 (or the opposite)."},"implemented":true,"kind":"function","modifiers":[],"name":"isValidSignatureNow","nameLocation":"1050:19:70","parameters":{"id":48443,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48438,"mutability":"mutable","name":"signer","nameLocation":"1078:6:70","nodeType":"VariableDeclaration","scope":48483,"src":"1070:14:70","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48437,"name":"address","nodeType":"ElementaryTypeName","src":"1070:7:70","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":48440,"mutability":"mutable","name":"hash","nameLocation":"1094:4:70","nodeType":"VariableDeclaration","scope":48483,"src":"1086:12:70","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":48439,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1086:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":48442,"mutability":"mutable","name":"signature","nameLocation":"1113:9:70","nodeType":"VariableDeclaration","scope":48483,"src":"1100:22:70","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":48441,"name":"bytes","nodeType":"ElementaryTypeName","src":"1100:5:70","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1069:54:70"},"returnParameters":{"id":48446,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48445,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48483,"src":"1147:4:70","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":48444,"name":"bool","nodeType":"ElementaryTypeName","src":"1147:4:70","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"1146:6:70"},"scope":48536,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":48535,"nodeType":"FunctionDefinition","src":"1877:458:70","nodes":[],"body":{"id":48534,"nodeType":"Block","src":"2026:309:70","nodes":[],"statements":[{"assignments":[48496,48498],"declarations":[{"constant":false,"id":48496,"mutability":"mutable","name":"success","nameLocation":"2042:7:70","nodeType":"VariableDeclaration","scope":48534,"src":"2037:12:70","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":48495,"name":"bool","nodeType":"ElementaryTypeName","src":"2037:4:70","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":48498,"mutability":"mutable","name":"result","nameLocation":"2064:6:70","nodeType":"VariableDeclaration","scope":48534,"src":"2051:19:70","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":48497,"name":"bytes","nodeType":"ElementaryTypeName","src":"2051:5:70","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":48510,"initialValue":{"arguments":[{"arguments":[{"expression":{"id":48503,"name":"IERC1271","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44029,"src":"2120:8:70","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC1271_$44029_$","typeString":"type(contract IERC1271)"}},"id":48504,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2129:16:70","memberName":"isValidSignature","nodeType":"MemberAccess","referencedDeclaration":44028,"src":"2120:25:70","typeDescriptions":{"typeIdentifier":"t_function_declaration_view$_t_bytes32_$_t_bytes_memory_ptr_$returns$_t_bytes4_$","typeString":"function IERC1271.isValidSignature(bytes32,bytes memory) view returns (bytes4)"}},{"components":[{"id":48505,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48488,"src":"2148:4:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":48506,"name":"signature","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48490,"src":"2154:9:70","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"id":48507,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2147:17:70","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_bytes_memory_ptr_$","typeString":"tuple(bytes32,bytes memory)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_view$_t_bytes32_$_t_bytes_memory_ptr_$returns$_t_bytes4_$","typeString":"function IERC1271.isValidSignature(bytes32,bytes memory) view returns (bytes4)"},{"typeIdentifier":"t_tuple$_t_bytes32_$_t_bytes_memory_ptr_$","typeString":"tuple(bytes32,bytes memory)"}],"expression":{"id":48501,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"2105:3:70","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":48502,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2109:10:70","memberName":"encodeCall","nodeType":"MemberAccess","src":"2105:14:70","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":48508,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2105:60:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":48499,"name":"signer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48486,"src":"2074:6:70","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48500,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2081:10:70","memberName":"staticcall","nodeType":"MemberAccess","src":"2074:17:70","typeDescriptions":{"typeIdentifier":"t_function_barestaticcall_view$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) view returns (bool,bytes memory)"}},"id":48509,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2074:101:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"2036:139:70"},{"expression":{"components":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":48531,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":48516,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48511,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48496,"src":"2193:7:70","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48515,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":48512,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48498,"src":"2216:6:70","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":48513,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2223:6:70","memberName":"length","nodeType":"MemberAccess","src":"2216:13:70","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"3332","id":48514,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2233:2:70","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"},"src":"2216:19:70","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"2193:42:70","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":48530,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":48519,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48498,"src":"2262:6:70","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":48521,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2271:7:70","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":48520,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2271:7:70","typeDescriptions":{}}}],"id":48522,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"2270:9:70","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"}],"expression":{"id":48517,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"2251:3:70","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":48518,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2255:6:70","memberName":"decode","nodeType":"MemberAccess","src":"2251:10:70","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":48523,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2251:29:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"expression":{"expression":{"id":48526,"name":"IERC1271","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44029,"src":"2292:8:70","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC1271_$44029_$","typeString":"type(contract IERC1271)"}},"id":48527,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2301:16:70","memberName":"isValidSignature","nodeType":"MemberAccess","referencedDeclaration":44028,"src":"2292:25:70","typeDescriptions":{"typeIdentifier":"t_function_declaration_view$_t_bytes32_$_t_bytes_memory_ptr_$returns$_t_bytes4_$","typeString":"function IERC1271.isValidSignature(bytes32,bytes memory) view returns (bytes4)"}},"id":48528,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2318:8:70","memberName":"selector","nodeType":"MemberAccess","src":"2292:34:70","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":48525,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2284:7:70","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":48524,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2284:7:70","typeDescriptions":{}}},"id":48529,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2284:43:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"2251:76:70","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"2193:134:70","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":48532,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2192:136:70","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":48494,"id":48533,"nodeType":"Return","src":"2185:143:70"}]},"documentation":{"id":48484,"nodeType":"StructuredDocumentation","src":"1476:396:70","text":" @dev Checks if a signature is valid for a given signer and data hash. The signature is validated\n against the signer smart contract using ERC-1271.\n NOTE: Unlike ECDSA signatures, contract signatures are revocable, and the outcome of this function can thus\n change through time. It could return true at block N and false at block N+1 (or the opposite)."},"implemented":true,"kind":"function","modifiers":[],"name":"isValidERC1271SignatureNow","nameLocation":"1886:26:70","parameters":{"id":48491,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48486,"mutability":"mutable","name":"signer","nameLocation":"1930:6:70","nodeType":"VariableDeclaration","scope":48535,"src":"1922:14:70","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48485,"name":"address","nodeType":"ElementaryTypeName","src":"1922:7:70","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":48488,"mutability":"mutable","name":"hash","nameLocation":"1954:4:70","nodeType":"VariableDeclaration","scope":48535,"src":"1946:12:70","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":48487,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1946:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":48490,"mutability":"mutable","name":"signature","nameLocation":"1981:9:70","nodeType":"VariableDeclaration","scope":48535,"src":"1968:22:70","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":48489,"name":"bytes","nodeType":"ElementaryTypeName","src":"1968:5:70","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1912:84:70"},"returnParameters":{"id":48494,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48493,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48535,"src":"2020:4:70","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":48492,"name":"bool","nodeType":"ElementaryTypeName","src":"2020:4:70","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"2019:6:70"},"scope":48536,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"SignatureChecker","contractDependencies":[],"contractKind":"library","documentation":{"id":48435,"nodeType":"StructuredDocumentation","src":"241:290:70","text":" @dev Signature verification helper that can be used instead of `ECDSA.recover` to seamlessly support both ECDSA\n signatures from externally owned accounts (EOAs) as well as ERC-1271 signatures from smart contract wallets like\n Argent and Safe Wallet (previously Gnosis Safe)."},"fullyImplemented":true,"linearizedBaseContracts":[48536],"name":"SignatureChecker","nameLocation":"540:16:70","scope":48537,"usedErrors":[],"usedEvents":[]}],"license":"MIT"},"id":70}